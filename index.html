<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de QR</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div id="app-container">
        <!-- Pantalla Inicial -->
        <div id="initial-screen" class="screen active">
            <h1>Bienvenido al Juego QR</h1>
            <button id="show-login-btn">Ya estoy registrado</button>
            <button id="show-register-btn">Soy Nuevo</button>
        </div>

        <!-- Pantalla de Registro -->
        <div id="register-screen" class="screen">
            <h2>Registro de Nuevo Usuario</h2>
            <form id="register-form">
                <input type="email" id="register-email" placeholder="Ingresa tu correo" required>
                <button type="submit">Registrarme</button>
                <button type="button" class="back-btn">Volver</button>
            </form>
        </div>

        <!-- Pantalla de Inicio de Sesión -->
        <div id="login-screen" class="screen">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <input type="email" id="login-email" placeholder="Ingresa tu correo" required>
                <button type="submit">Ingresar</button>
                <button type="button" class="back-btn">Volver</button>
            </form>
        </div>

        <!-- Pantalla Principal del Juego -->
        <div id="game-screen" class="screen">
            <h2>Menú Principal</h2>
            <div id="user-info">
                <p><strong>Correo:</strong> <span id="user-email"></span></p>
                <p><strong>Puntos:</strong> <span id="user-points"></span></p>
                <p><strong>Posición:</strong> <span id="user-position"></span></p>
            </div>
            <button id="scan-qr-btn">Obtener Puntos (Escanear QR)</button>
            <button id="logout-btn">Cerrar Sesión</button>
        </div>

        <div id="message-container"></div>
    </div>

    <!-- PANTALLA DE SELECCIÓN DE ESCANEO (NUEVO) -->
    <div id="scan-choice-screen" class="screen modal-overlay">
        <div class="modal-content">
            <h2>Seleccionar Método</h2>
            <button id="open-camera-btn">Abrir Cámara</button>
            <button id="upload-image-btn">Subir Imagen de Galería</button>
            <button id="cancel-choice-btn" class="back-btn">Cancelar</button>
        </div>
    </div>
    <input type="file" id="qr-image-input" accept="image/*" style="display: none;">


    <!-- PANTALLA DE ESCANEO A PANTALLA COMPLETA -->
    <div id="scanner-screen" class="screen">
        <div id="qr-reader-full"></div>
        <button id="cancel-scan-btn">Cancelar</button>
    </div>

    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script src="./script.js"></script>
</body>
</html>
